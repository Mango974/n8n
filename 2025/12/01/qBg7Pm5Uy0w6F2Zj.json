{"nodes":[{"parameters":{"name":"createImage","description":"Appelle cet outil pour cr√©er une image.\n","workflowId":{"__rl":true,"value":"v2XyNOzGDZwl8hFh","mode":"list","cachedResultName":"2 - Image Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}","imagePrompt":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('imagePrompt', `L‚Äôimage demand√©e par l‚Äôutilisateur`, 'string') }}","imageTitle":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('imageTitle', `Le titre de l‚Äôimage. Il ne doit pas d√©passer 4 mots.`, 'string') }}"},"matchingColumns":[],"schema":[{"id":"imageTitle","displayName":"imageTitle","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"imagePrompt","displayName":"imagePrompt","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1584,336],"id":"a6594ea7-6d33-43f2-a126-0c473295b2bc","name":"Cr√©er une Image"},{"parameters":{"chatId":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}","text":"={{ $json.output }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[2560,112],"id":"e6ced864-d32c-482b-a33a-5c0fb91f25e0","name":"Envoyer Message Telegram","webhookId":"fbdb3bd7-490b-4d3e-961e-e2d398294649"},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[1456,336],"id":"2a1398b1-d13c-4abf-8e08-2a098b231c40","name":"Stockage M√©moire Simple"},{"parameters":{"name":"editImage","description":"Appelle cet outil pour modifier une image.\n","workflowId":{"__rl":true,"value":"cLOdRIOtHZfGuoBW","mode":"list","cachedResultName":"3 - Image Modif Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"image":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('image', `Le titre de l‚Äôimage que l‚Äôutilisateur souhaite modifier.\n`, 'string') }}","chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}","request":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('request', `La modification que l‚Äôutilisateur souhaite apporter √† l‚Äôimage.\n`, 'string') }}","pictureID":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('pictureID', `L‚ÄôID de l‚Äôimage √† modifier.\n`, 'string') }}"},"matchingColumns":[],"schema":[{"id":"image","displayName":"image","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"request","displayName":"request","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"pictureID","displayName":"pictureID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1712,336],"id":"2c9d05c4-9837-499a-be35-646567a627fd","name":"Modifier une Image"},{"parameters":{"name":"searchImages","description":"Appelle cet outil pour rechercher dans la base d‚Äôimages.","workflowId":{"__rl":true,"value":"5th7OFlpnRc0KKYB","mode":"list","cachedResultName":"6 - Image Recherche Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"intent":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('intent', `L‚Äôintention de l‚Äôutilisateur. Cela peut √™tre soit ¬´¬†Obtenir¬†¬ª, soit ¬´¬†Modifier¬†¬ª`, 'string') }}","image":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('image', `Le titre de l‚Äôimage\n`, 'string') }}","chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}"},"matchingColumns":[],"schema":[{"id":"intent","displayName":"intent","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"image","displayName":"image","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1840,336],"id":"bfba7b44-9dd2-4a17-84dc-b9ed966d6deb","name":"Rechercher des Images"},{"parameters":{"name":"blogPost","description":"Appelle cet outil pour cr√©er un article de blog en utilisant un sujet et un public cible.\n","workflowId":{"__rl":true,"value":"swNeu1AjANGVHOcL","mode":"list","cachedResultName":"1 - Blog Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"blogTopic":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('blogTopic', `Le sujet du blog.`, 'string') }}","targetAudience":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('targetAudience', `Le public cible du blog.`, 'string') }}","chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}"},"matchingColumns":[],"schema":[{"id":"blogTopic","displayName":"blogTopic","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"targetAudience","displayName":"targetAudience","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[1968,336],"id":"299e27bd-f5d5-4647-9050-8f12ac3affe7","name":"Cr√©er un Article de Blog"},{"parameters":{"name":"linkedinPost","description":"Appelle cet outil pour cr√©er un post LinkedIn en utilisant un sujet et un public cible.","workflowId":{"__rl":true,"value":"5jgCuubU68jnevd2","mode":"list","cachedResultName":"4 - LinkedIn Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"postTopic":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('postTopic', `Le sujet du post LinkedIn\n`, 'string') }}","targetAudience":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('targetAudience', `Le public cible du post LinkedIn\n`, 'string') }}","chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}"},"matchingColumns":[],"schema":[{"id":"postTopic","displayName":"postTopic","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"targetAudience","displayName":"targetAudience","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[2096,336],"id":"d59b2c24-ec9e-4d4c-9caa-17bfad7941ef","name":"Cr√©er un Post LinkedIn"},{"parameters":{"assignments":{"assignments":[{"id":"fe7ecc99-e1e8-4a5e-bdd6-6fce9757b234","name":"text","value":"={{ $json.message.text }}","type":"string"}]},"options":{}},"id":"a695c8cd-d929-4e34-ad24-c67f7393ba13","name":"D√©finir le Texte","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1104,16]},{"parameters":{"resource":"file","fileId":"={{ $json.message.voice.file_id }}","additionalFields":{}},"id":"f44ebd5e-de96-41e3-8161-b0d84c853100","name":"T√©l√©charger Fichier Audio","type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[880,208],"webhookId":"c0b376b1-7b63-41b6-8063-0b3096b8333d"},{"parameters":{"resource":"audio","operation":"transcribe","options":{}},"id":"383064d2-d233-48f8-95f1-3ff4a2adeba6","name":"Transcrire Audio","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[1104,208]},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.voice.file_id }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Voice"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"8c844924-b2ed-48b0-935c-c66a8fd0c778","leftValue":"={{ $json.message.text }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Text"}]},"options":{}},"id":"a4f8cb47-4f66-4719-b8e1-657fb0cc032c","name":"Basculer Entr√©e","type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[656,112]},{"parameters":{"updates":["message"],"additionalFields":{}},"id":"3ac26611-9873-4d78-909d-83da28a891ca","name":"D√©clencheur Telegram","type":"n8n-nodes-base.telegramTrigger","typeVersion":1.1,"position":[432,112],"webhookId":"99eab1a0-569d-4f0f-a49e-578a02abfe63"},{"parameters":{"name":"video","description":"Appelle cet outil pour cr√©er une vid√©o.\n","workflowId":{"__rl":true,"value":"4QrZSpltuHE6cLuo","mode":"list","cachedResultName":"5 - Video Workflow"},"workflowInputs":{"mappingMode":"defineBelow","value":{"videoTopic":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('videoTopic', `Le sujet de la vid√©o`, 'string') }}","chatID":"={{ $('D√©clencheur Telegram').item.json.message.chat.id }}"},"matchingColumns":[],"schema":[{"id":"videoTopic","displayName":"videoTopic","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"chatID","displayName":"chatID","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":2.1,"position":[2224,336],"id":"5fc160be-cb70-4df8-9b34-71bff5aff521","name":"Cr√©er une Vid√©o"},{"parameters":{"promptType":"define","text":"={{ $json.text }}","options":{"systemMessage":"=# Contexte\nTu es une intelligence artificielle qui s'apelle BOB au service d‚Äôune √©quipe marketing. Ton r√¥le est d‚Äôaider l‚Äôutilisateur √† cr√©er et modifier des images selon sa demande, ou √† produire du contenu.\n\n## Outils\ncreateImage ‚Äì Utilise cet outil pour cr√©er une image. Envoie le prompt de l‚Äôimage demand√©e √† cet outil.\neditImage ‚Äì Utilise cet outil pour modifier une image. L‚Äôutilisateur pourrait aussi dire ¬´¬†make¬†¬ª au lieu de ¬´¬†edit¬†¬ª.\nImage Database ‚Äì Utilise-le pour rechercher dans la base d‚Äôimages.\nblogPost ‚Äì Utilise-le pour cr√©er un article de blog.\nlinkedinPost ‚Äì Utilise-le pour cr√©er un post LinkedIn avec image incluse.\nvideo ‚Äì Utilise cet outil pour cr√©er une vid√©o.\nThink ‚Äì Utilise-le si tu as besoin d‚Äôaide pour prendre une d√©cision.\n\n## Instructions\n* Si l‚Äôutilisateur demande de ¬´¬†modifier cette image¬†¬ª ou ¬´¬†faire √ßa‚Ä¶¬†¬ª, cela signifie qu‚Äôil souhaite modifier la derni√®re image dans la base, la plus r√©cente.\n* Si l‚Äôutilisateur demande un article de blog ou un post LinkedIn, utilise l‚Äôoutil blogPost ou linkedinPost et affiche¬†:\n  ¬´ Voici le post que vous avez demand√©. J‚Äôesp√®re qu‚Äôil vous plaira. ¬ª\n\n## output\n* Assure-toi de retourner le lien de l‚Äôimage sous forme de lien cliquable."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.9,"position":[1776,112],"id":"5d6625c8-7a2c-43fc-b03e-3220a14f3135","name":"Agent √âquipe Marketing"},{"parameters":{"description":"Utilise l‚Äôoutil pour r√©fl√©chir √† quelque chose. Il n‚Äôobtiendra pas de nouvelles informations et ne modifiera pas la base de donn√©es, mais ajoutera simplement la r√©flexion au journal. Utilise-le lorsque tu as besoin d‚Äôun raisonnement complexe ou d‚Äôune m√©moire temporaire."},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[2352,336],"id":"5f17f9ae-e3bf-4a39-b62a-4866f2fa0658","name":"R√©fl√©chir"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1328,336],"id":"856e72af-adfd-4d16-a197-3aa378340004","name":"Mod√®le de Chat OpenAI"},{"parameters":{"content":"# üß≠ Vue d'ensemble du Workflow\n\n## üìã Objectif\nCe workflow automatis√© est con√ßu pour assister une √©quipe marketing dans la cr√©ation et la gestion de contenu num√©rique, incluant des images, des articles de blog, des posts LinkedIn, et des vid√©os. Il int√®gre des interactions via Telegram pour recevoir des demandes et fournir des r√©ponses, tout en utilisant des outils d'intelligence artificielle pour g√©n√©rer et modifier du contenu.\n\n## üîÑ Sections du Processus\n\n### üéØ Section D√©clenchement et Entr√©e\nLe workflow est initialement d√©clench√© par un message re√ßu sur Telegram. Ce message peut √™tre sous forme de texte ou de fichier audio. Un d√©clencheur Telegram capte ces messages et les dirige vers la section appropri√©e du workflow. Si un fichier audio est re√ßu, il est t√©l√©charg√© et transcrit en texte pour une analyse ult√©rieure.\n\n### üîç Section Traitement et Analyse\nUne fois les donn√©es d'entr√©e captur√©es, elles sont analys√©es pour d√©terminer l'intention de l'utilisateur. Cela inclut la cr√©ation d'images, la modification d'images existantes, ou la g√©n√©ration de contenu √©crit comme des articles de blog ou des posts LinkedIn. Un agent d'intelligence artificielle est utilis√© pour interpr√©ter les demandes et choisir les outils appropri√©s pour r√©pondre aux besoins de l'utilisateur.\n\n### üîÑ Section D√©cision et Routage\nCette section utilise un m√©canisme de basculement pour diriger le flux de travail en fonction du type de message re√ßu (texte ou audio). Elle d√©cide √©galement si l'utilisateur souhaite cr√©er, modifier ou rechercher des images, ou s'il souhaite g√©n√©rer du contenu √©crit ou vid√©o.\n\n### ‚ö° Section Actions et Sorties\nLes actions finales incluent la cr√©ation ou la modification d'images, la r√©daction d'articles de blog ou de posts LinkedIn, et la g√©n√©ration de vid√©os. Les r√©sultats sont ensuite envoy√©s √† l'utilisateur via Telegram, avec des liens cliquables pour acc√©der directement au contenu g√©n√©r√©.\n\n## üîó Liens Utiles\n- [Telegram](https://telegram.org)\n- [Langchain](https://langchain.com)\n- [OpenAI](https://openai.com)\n- [n8n](https://n8n.io)","height":932,"width":800},"type":"n8n-nodes-base.stickyNote","position":[-528,224],"typeVersion":1,"id":"87ad018a-538d-4536-bfb2-d901194dc3fe","name":"Workflow Overview"},{"parameters":{"content":"---\n\n## üë®‚Äçüíª Workflow cr√©√© par Thomas Berton\n\n**Envie de faire d√©velopper vos solutions IA par des pros ?**  \nContactez mon agence Azuro üëâ [azuro-ai.com](https://azuro-ai.com/contact)\n\nüì¢ **Rejoignez notre communaut√© IA sur Skool** üëâ [Le Club IA](https://www.skool.com/le-club-ia)\n\n### üîó Suivez-moi sur les r√©seaux\n\nüé• **YouTube** : [Thomas BSSH](https://www.youtube.com/@thomasbssh?sub_confirmation=1)  \nüíº **LinkedIn** : [Thomas Berton](https://linkedin.com/in/thomas-berton-563894196)  \nüì± **Instagram** : [@thomasbssh](https://instagram.com/thomasbssh)\n\n---","height":400,"width":800,"color":6},"type":"n8n-nodes-base.stickyNote","position":[-528,-240],"typeVersion":1,"id":"64f94feb-c657-467e-86f7-d4b409d27b57","name":"Signature"}],"connections":{"Cr√©er une Image":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Stockage M√©moire Simple":{"ai_memory":[[{"node":"Agent √âquipe Marketing","type":"ai_memory","index":0}]]},"Modifier une Image":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Rechercher des Images":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Cr√©er un Article de Blog":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Cr√©er un Post LinkedIn":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"D√©finir le Texte":{"main":[[{"node":"Agent √âquipe Marketing","type":"main","index":0}]]},"T√©l√©charger Fichier Audio":{"main":[[{"node":"Transcrire Audio","type":"main","index":0}]]},"Transcrire Audio":{"main":[[{"node":"Agent √âquipe Marketing","type":"main","index":0}]]},"Basculer Entr√©e":{"main":[[{"node":"T√©l√©charger Fichier Audio","type":"main","index":0}],[{"node":"D√©finir le Texte","type":"main","index":0}]]},"D√©clencheur Telegram":{"main":[[{"node":"Basculer Entr√©e","type":"main","index":0}]]},"Cr√©er une Vid√©o":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Agent √âquipe Marketing":{"main":[[{"node":"Envoyer Message Telegram","type":"main","index":0}]]},"R√©fl√©chir":{"ai_tool":[[{"node":"Agent √âquipe Marketing","type":"ai_tool","index":0}]]},"Mod√®le de Chat OpenAI":{"ai_languageModel":[[{"node":"Agent √âquipe Marketing","type":"ai_languageModel","index":0}]]}},"pinData":{"D√©clencheur Telegram":[{"json":{"update_id":539648026,"message":{"message_id":104,"from":{"id":7952797797,"is_bot":false,"first_name":"Thomas","last_name":"Berton","language_code":"fr"},"chat":{"id":7952797797,"first_name":"Thomas","last_name":"Berton","type":"private"},"date":1756805476,"voice":{"duration":5,"mime_type":"audio/ogg","file_id":"AwACAgQAAxkBAANoaLa5ZH4-ySx18C5YXdnB20bhotkAAkAdAALiSrFRJ9QlsKoN-cM2BA","file_unique_id":"AgADQB0AAuJKsVE","file_size":21637}}}}]},"meta":null}