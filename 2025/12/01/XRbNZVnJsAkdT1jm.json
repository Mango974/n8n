{"nodes":[{"parameters":{"workflowInputs":{"values":[{"name":"postTopic"},{"name":"targetAudience"},{"name":"chatID"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[720,320],"id":"558e4945-c70a-47a4-a669-031c0f2434f6","name":"When Executed by Another Workflow"},{"parameters":{"toolDescription":"Use this tool to search the web. ","method":"POST","url":"https://api.tavily.com/search","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"{\n  \"query\": \"{searchTerm}\",\n  \"topic\": \"general\",\n  \"search_depth\": \"advanced\",\n  \"chunks_per_source\": 3,\n  \"max_results\": 1,\n  \"time_range\": null,\n  \"days\": 7,\n  \"include_answer\": true,\n  \"include_raw_content\": false,\n  \"include_images\": false,\n  \"include_image_descriptions\": false,\n  \"include_domains\": [],\n  \"exclude_domains\": []\n}","placeholderDefinitions":{"values":[{"name":"searchTerm","description":"What the user is searching for. "}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[1232,528],"id":"9e130a4f-c991-43c0-836f-6a64b6e6f03c","name":"Recherche Web"},{"parameters":{"promptType":"define","text":"=POst linkedin :\n{{ $json.output }}","hasOutputParser":true,"options":{"systemMessage":"=# Contexte\nTu es un agent IA charg√© de transformer des posts LinkedIn en descriptions de visuels destin√©s √† g√©n√©rer des supports marketing graphiques. Ces visuels sont con√ßus pour accompagner les posts sur LinkedIn, en renfor√ßant leur message de mani√®re visuelle, engageante et align√©e avec la marque.\n\n## Objectif\n* Lire et analyser le post LinkedIn fourni\n* Identifier le message cl√©, l‚Äôid√©e forte ou l‚Äôenseignement √† retenir\n* Cr√©er un prompt clair et percutant pouvant √™tre utilis√© avec un g√©n√©rateur d‚Äôimage √† partir de texte\n* Le visuel doit √™tre de style marketing ‚Äî pas une sc√®ne litt√©rale ou une photo hyperr√©aliste ‚Äî et doit :\n\n  1. Illustrer visuellement l‚Äôid√©e centrale du post\n  2. √ätre adapt√© √† une publication LinkedIn professionnelle\n  3. √ätre soign√©, moderne et engageant\n\n## Instructions de sortie\n* G√©n√®re uniquement le prompt final de l‚Äôimage\n* N‚Äôutilise pas de guillemets\n* Ne r√©p√®te pas le contenu du post LinkedIn\n* N‚Äôajoute aucune explication ni contenu suppl√©mentaire\n* Ne laisse jamais de champ vide comme ¬´ Zone de titre personnalisable ici ¬ª\n* Int√®gre les chiffres ou statistiques si pr√©sents dans le post original\n\n## Directives de style\n* Pense comme un designer de marque ou un cr√©atif marketing\n* Les visuels peuvent inclure : du texte, des graphiques, des ic√¥nes, des formes abstraites, des superpositions, des illustrations modernes, des effets de mouvement, des √©l√©ments typographiques forts (d√©crits, pas rendus), ou des concepts m√©taphoriques\n* Tu peux sugg√©rer une disposition (ex. : ¬´ design en √©cran partag√© ¬ª, ¬´ en-t√™te avec titre en gras et illustration discr√®te en arri√®re-plan ¬ª)\n* Supposons que le visuel sera g√©n√©r√© par un outil d‚ÄôIA ‚Äî ton prompt doit guider cet outil efficacement\n\n## Exemple de format de prompt\nIllustration moderne en flat design montrant un cerveau humain connect√© √† des engrenages m√©caniques, repr√©sentant la fusion entre l‚Äôintelligence artificielle et l‚Äôautomatisation. Fond minimaliste, d√©grad√©s doux, espace de texte avec typographie sans serif √©pur√©e en haut."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.9,"position":[1344,320],"id":"38c37ee7-b9cb-4bd0-b0b5-7bf45d9adc99","name":"Cr√©ation de Description Visuelle"},{"parameters":{"promptType":"define","text":"=Sujet du post : {{ $json.postTopic }}\n\nPublic cible : {{ $json.targetAudience }}\n\n# LE POST DOIT ETRE EN FRANCAIS","options":{"systemMessage":"=# Contexte\nTu es un agent IA sp√©cialis√© dans la cr√©ation de posts LinkedIn professionnels, √©ducatifs et engageants √† partir de n‚Äôimporte quel sujet fourni par l‚Äôutilisateur.\n\n## Objectifs\nCommence toujours par effectuer une recherche en temps r√©el √† l‚Äôaide de l‚Äôoutil Tavily pour collecter les informations les plus pr√©cises et r√©centes sur le sujet. Le post doit √™tre r√©dig√© pour attirer l‚Äôattention du public cible fourni.\n\nEn te basant sur ta recherche, g√©n√®re un post LinkedIn bien structur√© qui :\n* D√©marre par une accroche engageante\n* Adopte un ton professionnel\n* Est clair et facile √† lire\n* Est √©ducatif et pertinent\n* Utilise peu d‚Äôemojis (uniquement s‚Äôils sont tr√®s pertinents et avec parcimonie)\n* Inclut une attribution correcte des sources (ex. : ¬´¬†selon \\[source]¬†¬ª)\n* Contient des hashtags pertinents pour am√©liorer la visibilit√©\n* Se termine par un appel √† l‚Äôaction clair (ex. : demander des avis, des retours ou un partage)\n\n## Instructions de sortie\n* Ta seule sortie doit √™tre le texte final du post LinkedIn\n* N‚Äôajoute aucune explication, note ou contenu suppl√©mentaire au post\n\n## Exemple de flux de travail\n1. Re√ßois un sujet (ex. : ¬´¬†Le ROI de l‚Äôautomatisation des entrep√¥ts¬†¬ª)\n2. Utilise Tavily pour rechercher des informations ou des cas r√©cents\n3. R√©dige un post LinkedIn √† partir de ces donn√©es\n4. Structure-le avec des sources, un format clair, des hashtags pertinents et un appel √† l‚Äôaction\n\n# LE POST DOIT ETRE EN FRANCAIS"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.9,"position":[944,320],"id":"1f59d6c7-5283-4032-a06f-ab34136d3d36","name":"Cr√©ation de Post LinkedIn"},{"parameters":{"jsonSchemaExample":"{\n  \"title\": \"<2-4 word creative title for the image>\",\n  \"prompt\": \"<full detailed image generation prompt>\"\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[1456,544],"id":"de1061d0-538f-4e64-aeb0-b17ed580f6cf","name":"Analyseur de Sortie Structur√©e"},{"parameters":{"chatId":"={{ $('When Executed by Another Workflow').item.json.chatID }}","text":"={{ $('Cr√©ation de Post LinkedIn').item.json.output }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1664,800],"id":"d6419443-f257-4162-bee8-2f6a0adf116a","name":"Envoi de Texte sur Telegram","webhookId":"94fa70af-f2fc-4c05-8fa1-d9f55637485f"},{"parameters":{"operation":"sendPhoto","chatId":"={{ $('When Executed by Another Workflow').item.json.chatID }}","binaryData":true,"additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1440,800],"id":"c237d99a-00a9-4c86-9b4e-85653d89c9e6","name":"Envoi de Photo sur Telegram","webhookId":"8fcbda9c-8396-41f7-8f2d-39e4ae4337c7"},{"parameters":{"name":"={{ $('Cr√©ation de Description Visuelle').item.json.output.title }}.png","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1no0bOmycf9FTv_BgnQAozr3B9C4ew0mW","mode":"list","cachedResultName":"Medias","cachedResultUrl":"https://drive.google.com/drive/folders/1no0bOmycf9FTv_BgnQAozr3B9C4ew0mW"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1440,992],"id":"0e8b747b-1ca8-4046-95c1-0f5e3c50ad2a","name":"Sauvegarde sur Google Drive"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[992,544],"id":"ef52e187-0547-4984-8a36-8880588eebd6","name":"Chat avec Mod√®le AI"},{"parameters":{"operation":"create","base":{"__rl":true,"value":"apprrk8BzFraLVbsx","mode":"list","cachedResultName":"Marketing Team","cachedResultUrl":"https://airtable.com/apprrk8BzFraLVbsx"},"table":{"__rl":true,"value":"tbl4mN27ieDO845l2","mode":"list","cachedResultName":"DashBoard","cachedResultUrl":"https://airtable.com/apprrk8BzFraLVbsx/tbl4mN27ieDO845l2"},"columns":{"mappingMode":"defineBelow","value":{"Status":"Termin√©","Requette":"={{ $('When Executed by Another Workflow').item.json.postTopic }} for {{ $('When Executed by Another Workflow').item.json.targetAudience }}","ID Requette":"={{ $json.id }}","Titre":"={{ $('When Executed by Another Workflow').item.json.postTopic }}","Type":"Post","Lien":"={{ $json.webViewLink }}"},"matchingColumns":[],"schema":[{"id":"ID","displayName":"ID","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Titre","displayName":"Titre","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Type","displayName":"Type","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"options","options":[{"name":"raw_image","value":"raw_image"},{"name":"raw_audio","value":"raw_audio"},{"name":"raw_video","value":"raw_video"},{"name":"Vid√©o","value":"Vid√©o"},{"name":"Post","value":"Post"}],"readOnly":false,"removed":false},{"id":"Status","displayName":"Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"options","options":[{"name":"Erreur","value":"Erreur"},{"name":"En cours","value":"En cours"},{"name":"Termin√©","value":"Termin√©"}],"readOnly":false,"removed":false},{"id":"Requette","displayName":"Requette","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"ID Requette","displayName":"ID Requette","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Lien","displayName":"Lien","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1664,992],"id":"1e4335bd-527b-4d8e-97ae-5ceb4ac05cbe","name":"Enregistrement dans Airtable"},{"parameters":{"content":"# üß≠ Vue d'ensemble du Workflow\n\n## üìã Objectif\nCe workflow automatis√© est con√ßu pour transformer des publications LinkedIn en descriptions visuelles et g√©n√©rer des images marketing. Il utilise des outils d'IA pour rechercher des informations, cr√©er des contenus visuels et textuels, et les distribuer via Telegram et Google Drive.\n\n## üîÑ Sections du Processus\n\n### üéØ Section D√©clenchement et Entr√©e\nLe workflow commence par un d√©clencheur qui re√ßoit des informations sur le sujet de la publication LinkedIn et l'audience cible. Ces donn√©es sont essentielles pour personnaliser le contenu g√©n√©r√©.\n\n### üîç Section Recherche et Analyse\nUne fois d√©clench√©, le workflow utilise un outil de recherche web pour collecter des informations √† jour sur le sujet. Ces donn√©es sont ensuite analys√©es par un agent d'IA pour cr√©er un post LinkedIn structur√© et professionnel.\n\n### üñºÔ∏è Section Cr√©ation Visuelle\nParall√®lement √† la cr√©ation du texte, un autre agent d'IA g√©n√®re une description visuelle bas√©e sur le contenu du post LinkedIn. Cette description est utilis√©e pour g√©n√©rer une image via un service d'IA d'image.\n\n### ‚ö° Section Actions et Sorties\nLes r√©sultats, y compris le texte du post et l'image g√©n√©r√©e, sont envoy√©s √† un chat Telegram pour distribution. L'image est √©galement sauvegard√©e sur Google Drive pour un acc√®s futur. Enfin, les d√©tails de la requ√™te sont enregistr√©s dans Airtable pour le suivi et la gestion.\n\n## üîó Liens Utiles\n- [Tavily](https://tavily.com)\n- [OpenAI](https://openai.com)\n- [Telegram](https://telegram.org)\n- [Google Drive](https://google.com/drive)\n- [Airtable](https://airtable.com)","height":884,"width":800,"color":7},"type":"n8n-nodes-base.stickyNote","position":[-176,416],"typeVersion":1,"id":"d0b61d64-2b05-4f24-9769-a1786aec16e8","name":"Workflow Overview"},{"parameters":{"content":"---\n\n## üë®‚Äçüíª Workflow cr√©√© par Thomas Berton\n\n**Envie de faire d√©velopper vos solutions IA par des pros ?**  \nContactez mon agence Azuro üëâ [azuro-ai.com](https://azuro-ai.com/contact)\n\nüì¢ **Rejoignez notre communaut√© IA sur Skool** üëâ [Le Club IA](https://www.skool.com/le-club-ia)\n\n### üîó Suivez-moi sur les r√©seaux\n\nüé• **YouTube** : [Thomas BSSH](https://www.youtube.com/@thomasbssh?sub_confirmation=1)  \nüíº **LinkedIn** : [Thomas Berton](https://linkedin.com/in/thomas-berton-563894196)  \nüì± **Instagram** : [@thomasbssh](https://instagram.com/thomasbssh)\n\n---","height":400,"width":800,"color":6},"type":"n8n-nodes-base.stickyNote","position":[-176,-80],"typeVersion":1,"id":"409a6a70-0f3b-43f7-9cd5-e6a1d7f5170e","name":"Signature"},{"parameters":{"method":"POST","url":"https://api.wavespeed.ai/api/v3/google/nano-banana/text-to-image","authentication":"genericCredentialType","genericAuthType":"httpBearerAuth","sendBody":true,"bodyParameters":{"parameters":[{"name":"enable_sync_mode","value":"true"},{"name":"output_format","value":"jpeg"},{"name":"prompt","value":"={{ $json.output.prompt.replace(/\"/g, '') }}"}]},"options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[944,896],"id":"8f3710b5-c88f-4801-94f3-3b4a6c7ed184","name":"G√©n√©ration d'Image avec Google Nano Banana"},{"parameters":{"url":"={{ $json.data.outputs[0] }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1168,896],"id":"f0ba3c2b-65de-4c27-a1c1-ffb04607b81b","name":"DL Image"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"Cr√©ation de Post LinkedIn","type":"main","index":0}]]},"Recherche Web":{"ai_tool":[[{"node":"Cr√©ation de Post LinkedIn","type":"ai_tool","index":0}]]},"Cr√©ation de Description Visuelle":{"main":[[{"node":"G√©n√©ration d'Image avec Google Nano Banana","type":"main","index":0}]]},"Cr√©ation de Post LinkedIn":{"main":[[{"node":"Cr√©ation de Description Visuelle","type":"main","index":0}]]},"Analyseur de Sortie Structur√©e":{"ai_outputParser":[[{"node":"Cr√©ation de Description Visuelle","type":"ai_outputParser","index":0}]]},"Envoi de Photo sur Telegram":{"main":[[{"node":"Envoi de Texte sur Telegram","type":"main","index":0}]]},"Sauvegarde sur Google Drive":{"main":[[{"node":"Enregistrement dans Airtable","type":"main","index":0}]]},"Chat avec Mod√®le AI":{"ai_languageModel":[[{"node":"Cr√©ation de Post LinkedIn","type":"ai_languageModel","index":0},{"node":"Cr√©ation de Description Visuelle","type":"ai_languageModel","index":0}]]},"G√©n√©ration d'Image avec Google Nano Banana":{"main":[[{"node":"DL Image","type":"main","index":0}]]},"DL Image":{"main":[[{"node":"Envoi de Photo sur Telegram","type":"main","index":0},{"node":"Sauvegarde sur Google Drive","type":"main","index":0}]]}},"pinData":{"When Executed by Another Workflow":[{"json":{"postTopic":"How artificial intelligence has completely changed my life in the past two and a half years","targetAudience":"LinkedIn professionals interested in AI and personal development","chatID":7952797797}}]},"meta":null}